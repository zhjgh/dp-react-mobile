{"remainingRequest":"D:\\dp-npm\\dp-react-mobile\\node_modules\\thread-loader\\dist\\cjs.js??ref--11-1!D:\\dp-npm\\dp-react-mobile\\node_modules\\docz-core\\node_modules\\babel-loader\\lib\\index.js??ref--11-2!D:\\dp-npm\\dp-react-mobile\\node_modules\\source-map-loader\\index.js!D:\\dp-npm\\dp-react-mobile\\src\\components\\Slider\\index.tsx","dependencies":[{"path":"D:\\dp-npm\\dp-react-mobile\\src\\components\\Slider\\index.tsx","mtime":1612400869147},{"path":"D:\\dp-npm\\dp-react-mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1598947540725},{"path":"D:\\dp-npm\\dp-react-mobile\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1583805667656},{"path":"D:\\dp-npm\\dp-react-mobile\\node_modules\\docz-core\\node_modules\\babel-loader\\lib\\index.js","mtime":1608001245112},{"path":"D:\\dp-npm\\dp-react-mobile\\node_modules\\source-map-loader\\index.js","mtime":1598947541893}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20iRDpcXGRwLW5wbVxcZHAtcmVhY3QtbW9iaWxlXFxub2RlX21vZHVsZXNcXGJhYmVsLXByZXNldC1yZWFjdC1hcHBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiO2ltcG9ydCBSZWFjdCx7dXNlU3RhdGUsdXNlRWZmZWN0fWZyb20ncmVhY3QnO2ltcG9ydCBTd2lwZXIgZnJvbSdzd2lwZXInO2ltcG9ydCdzd2lwZXIvZGlzdC9jc3Mvc3dpcGVyLmNzcyc7aW1wb3J0Jy4vaW5kZXguY3NzJzt2YXIgU2xpZGVyPWZ1bmN0aW9uIFNsaWRlcihwcm9wcyl7dmFyIF91c2VTdGF0ZT11c2VTdGF0ZSgxKSxfdXNlU3RhdGUyPV9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwyKSxjdXJyZW50PV91c2VTdGF0ZTJbMF0sc2V0Q3VycmVudD1fdXNlU3RhdGUyWzFdO3ZhciBfdXNlU3RhdGUzPXVzZVN0YXRlKHt9KSxfdXNlU3RhdGU0PV9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsMiksc2xpZGVyU3dpcGVyPV91c2VTdGF0ZTRbMF0sc2V0U2xpZGVyU3dpcGVyPV91c2VTdGF0ZTRbMV07dmFyIGlzTG9vcD1wcm9wcy5pc0xvb3AsaXNBdXRvPXByb3BzLmlzQXV0byxiYW5uZXJMaXN0PXByb3BzLmJhbm5lckxpc3QsaXNTaG93UGFnaW5hdGlvbj1wcm9wcy5pc1Nob3dQYWdpbmF0aW9uLGlzU2hvd1BhZ2VOdW1iZXI9cHJvcHMuaXNTaG93UGFnZU51bWJlcixfcHJvcHMkZmllbGROYW1lcz1wcm9wcy5maWVsZE5hbWVzLGZpZWxkTmFtZXM9X3Byb3BzJGZpZWxkTmFtZXM9PT12b2lkIDA/e306X3Byb3BzJGZpZWxkTmFtZXM7dmFyIGhlaWdodD1wcm9wcy5oZWlnaHQsYm9yZGVyUmFkaXVzPXByb3BzLmJvcmRlclJhZGl1cyxzcGFjZUJldHdlZW49cHJvcHMuc3BhY2VCZXR3ZWVuLG9uQ2xpY2s9cHJvcHMub25DbGljazt2YXIgdG90YWxOdW1iZXI9YmFubmVyTGlzdC5sZW5ndGg7dmFyIF9yZWY9ZmllbGROYW1lcyxpbWdVcmw9X3JlZi5pbWdVcmwsdXJsPV9yZWYudXJsO3ZhciBuZXdBcnI9W107aWYoT2JqZWN0LmtleXMoZmllbGROYW1lcykubGVuZ3RoPjApe25ld0Fycj1iYW5uZXJMaXN0Lm1hcChmdW5jdGlvbih2KXtyZXR1cm57aW1nVXJsOmltZ1VybCYmdltpbWdVcmxdLHVybDp1cmwmJnZbdXJsXX07fSk7fWVsc2V7bmV3QXJyPWJhbm5lckxpc3Q7fXVzZUVmZmVjdChmdW5jdGlvbigpe2lmKHRvdGFsTnVtYmVyJiYhT2JqZWN0LmtleXMoc2xpZGVyU3dpcGVyKS5sZW5ndGgpe3ZhciBuZXdTbGlkZXJTd2lwZXI9bmV3IFN3aXBlcignLnNsaWRlci1jb250YWluZXInLHtsb29wOmlzTG9vcCxhdXRvcGxheTppc0F1dG8/e2RlbGF5OjMwMDAsZGlzYWJsZU9uSW50ZXJhY3Rpb246ZmFsc2V9OmZhbHNlLHNwZWVkOjUwMCxzcGFjZUJldHdlZW46c3BhY2VCZXR3ZWVuLHBhZ2luYXRpb246e2VsOicuc3dpcGVyLXBhZ2luYXRpb24nfSxvbjp7Ly8gQHRzLWlnbm9yZQpzbGlkZUNoYW5nZTpmdW5jdGlvbiBzbGlkZUNoYW5nZSgpey8vIEB0cy1pZ25vcmUKc2V0Q3VycmVudCh0aGlzLnJlYWxJbmRleCsxKTt9LGNsaWNrOmZ1bmN0aW9uIGNsaWNrKCl7Ly8gQHRzLWlnbm9yZQppZihvbkNsaWNrKW9uQ2xpY2sobmV3QXJyW3RoaXMucmVhbEluZGV4XSk7Ly8gQHRzLWlnbm9yZQplbHNlIHVybCYmKHdpbmRvdy5sb2NhdGlvbi5ocmVmPW5ld0Fyclt0aGlzLnJlYWxJbmRleF0udXJsKTt9fX0pO3NldFNsaWRlclN3aXBlcihuZXdTbGlkZXJTd2lwZXIpO319LFt0b3RhbE51bWJlcixzbGlkZXJTd2lwZXJdKTtyZXR1cm4vKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2Iix7Y2xhc3NOYW1lOiJzbGlkZXItY29udGFpbmVyIixzdHlsZTp7aGVpZ2h0OmhlaWdodCxib3JkZXJSYWRpdXM6Ym9yZGVyUmFkaXVzfX0sLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIse2NsYXNzTmFtZToic3dpcGVyLXdyYXBwZXIifSxuZXdBcnIubWFwKGZ1bmN0aW9uKHNsaWRlcil7cmV0dXJuLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIse2NsYXNzTmFtZToic3dpcGVyLXNsaWRlIixrZXk6c2xpZGVyLmltZ1VybH0sLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIse2NsYXNzTmFtZToic2xpZGVyLW5hdiJ9LC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJhIixudWxsLC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJpbWciLHtzcmM6c2xpZGVyLmltZ1VybCx3aWR0aDoiMTAwJSIsaGVpZ2h0OiIxMDAlIn0pKSkpO30pKSxpc1Nob3dQYWdpbmF0aW9uJiZ0b3RhbE51bWJlcj4xJiYvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2Iix7Y2xhc3NOYW1lOiJzd2lwZXItcGFnaW5hdGlvbiJ9KSxpc1Nob3dQYWdlTnVtYmVyJiZ0b3RhbE51bWJlcj4xJiYvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2Iix7Y2xhc3NOYW1lOiJzd2lwZXItcGFnZU51bWJlciJ9LC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIix7Y2xhc3NOYW1lOiJjdXJyZW50In0sY3VycmVudCksLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLHtjbGFzc05hbWU6ImxpbmUifSwiLyIpLC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIix7Y2xhc3NOYW1lOiJ0b3RhbCJ9LHRvdGFsTnVtYmVyKSkpO307U2xpZGVyLmRlZmF1bHRQcm9wcz17aXNMb29wOnRydWUsaXNBdXRvOmZhbHNlLGlzU2hvd1BhZ2luYXRpb246dHJ1ZSxpc1Nob3dQYWdlTnVtYmVyOmZhbHNlLGJhbm5lckxpc3Q6W10saGVpZ2h0OidhdXRvJyxib3JkZXJSYWRpdXM6J25vbmUnLHNwYWNlQmV0d2VlbjowfTtleHBvcnQgZGVmYXVsdCBSZWFjdC5tZW1vKFNsaWRlcik7"},{"version":3,"sources":["D:/dp-npm/dp-react-mobile/src/components/Slider/index.tsx"],"names":["React","useState","useEffect","Swiper","Slider","props","current","setCurrent","sliderSwiper","setSliderSwiper","isLoop","isAuto","bannerList","isShowPagination","isShowPageNumber","fieldNames","height","borderRadius","spaceBetween","onClick","totalNumber","length","imgUrl","url","newArr","Object","keys","map","v","newSliderSwiper","loop","autoplay","delay","disableOnInteraction","speed","pagination","el","on","slideChange","realIndex","click","window","location","href","slider","defaultProps","memo"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Swiper from 'swiper';\r\nimport 'swiper/dist/css/swiper.css';\r\nimport './index.css';\r\n\r\ninterface IBannerListParams {\r\n  imgUrl: string;\r\n  url: string;\r\n}\r\n\r\ninterface IProps {\r\n  isLoop?: boolean; // 非必传-是否循环轮播图\r\n  isAuto?: boolean; // 非必传-是否自动轮播\r\n  isShowPagination?: boolean; // 非必传-是否显示分页器\r\n  isShowPageNumber?: boolean; // 非必传-是否右下角显示分页数量\r\n  fieldNames?: IBannerListParams; // 非必传-自定义参数名称\r\n  borderRadius?: string; // 非必传-设置圆角\r\n  height?: string; // 非必传-设置高度\r\n  spaceBetween?: number; // 非必传-轮播图间距\r\n  bannerList: Array<IBannerListParams>; // 必传-轮播列表\r\n  onClick?: (item: Object) => void; // 非必传-自定义点击跳转\r\n}\r\n\r\nconst Slider: React.FC<IProps> = props => {\r\n  const [current, setCurrent] = useState(1);\r\n  const [sliderSwiper, setSliderSwiper] = useState({});\r\n  const { isLoop, isAuto, bannerList, isShowPagination, isShowPageNumber, fieldNames = {} } = props;\r\n  const { height, borderRadius, spaceBetween, onClick } = props;\r\n  const totalNumber = bannerList.length;\r\n  const { imgUrl, url } = fieldNames as IBannerListParams;\r\n\r\n  let newArr: Array<IBannerListParams> = []\r\n  if(Object.keys(fieldNames as IBannerListParams).length > 0){\r\n    newArr = bannerList.map((v: any) => {\r\n      return {\r\n        imgUrl: imgUrl && v[imgUrl],\r\n        url: url && v[url]\r\n      }\r\n    })\r\n  }else{\r\n    newArr = bannerList\r\n  }\r\n  \r\n  useEffect(() => {\r\n    if (totalNumber && !Object.keys(sliderSwiper).length) {\r\n      let newSliderSwiper = new Swiper('.slider-container', {\r\n        loop: isLoop,\r\n        autoplay: isAuto ? {\r\n          delay: 3000,\r\n          disableOnInteraction: false,\r\n        }: false,\r\n        speed: 500,\r\n        spaceBetween,\r\n        pagination: { el: '.swiper-pagination' },     \r\n        on: {\r\n          // @ts-ignore\r\n          slideChange: function(){\r\n            // @ts-ignore\r\n            setCurrent(this.realIndex + 1);\r\n          },\r\n          click: function(){\r\n            // @ts-ignore\r\n            if(onClick) onClick(newArr[this.realIndex])\r\n            // @ts-ignore\r\n            else url && (window.location.href = newArr[this.realIndex].url)\r\n          }\r\n        }\r\n      });\r\n      setSliderSwiper(newSliderSwiper);\r\n    }\r\n  }, [totalNumber, sliderSwiper]);\r\n\r\n  return (\r\n    <div className=\"slider-container\" style={{\r\n      height,\r\n      borderRadius,\r\n    }}>\r\n      <div className=\"swiper-wrapper\">\r\n        {newArr.map(slider => {\r\n          return (\r\n            <div className=\"swiper-slide\" key={slider.imgUrl}>\r\n              <div className=\"slider-nav\">\r\n                <a>\r\n                  <img\r\n                    src={slider.imgUrl}\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                  />\r\n                </a>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      {\r\n        (isShowPagination && totalNumber > 1) && (<div className=\"swiper-pagination\"></div>)\r\n      }\r\n      {\r\n        (isShowPageNumber && totalNumber > 1) && (\r\n          <div className=\"swiper-pageNumber\">\r\n            <span className=\"current\">{current}</span>\r\n            <span className=\"line\">/</span>\r\n            <span className=\"total\">{totalNumber}</span>\r\n          </div>\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nSlider.defaultProps = {\r\n  isLoop: true,\r\n  isAuto: false,\r\n  isShowPagination: true,\r\n  isShowPageNumber: false,\r\n  bannerList: [],\r\n  height: 'auto',\r\n  borderRadius: 'none',\r\n  spaceBetween: 0,\r\n}\r\n\r\nexport default React.memo(Slider);\r\n\r\n"]}]}